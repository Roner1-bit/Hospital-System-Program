#include <iostream>
#include <fstream>
#include "patient.h"
#include "doctor.h"
#include "hospital.h"
int main(int argc, char** argv) {
ofstream myfile("patient disease.txt");
patient h1;
string x;
cout<<"enter the history of patient"<<endl;
cin>>x;
h1.sethistory(x);
int z;
cout<<"enter the age of patient"<<endl;
cin>>z;
h1.setage(z);
string y;
cout<<"enter patient name"<<endl;
cin>>y;
h1.setname(y);
cout<<"all information about the patient"<<endl;
cout<<"patient name is"<<endl;
cout<<h1.getname()<<endl;
cout<<"patient age is"<<endl;
cout<<h1.getage()<<endl;
cout<<"history of patient"<<endl;
myfile<<"the patient disease :"<<endl;
myfile<<h1.gethistory()<<endl;
cout << h1.gethistory()<<endl;
cout<< "     End of the patient information     "<<endl;
Doctor d1;
cout<<"enter the age of doctor"<<endl;
int u;
cin>>u;
d1.setage(u);
cout<<"choose one department of the doc you want (Neurology-Oncology-Emergency-Obstetrics)"<<endl;
string f;
cin>>f;
d1.setdepart(f);
cout<<"enter the name of doc"<<endl;
string a;
cin>>a;
d1.setname(a);
cout<<"enter the number of patients with the doc"<<endl;
int b;
cin>>b;
d1.setnumber_of_patient(b);
cout<<"edit of patient history"<<endl;
string c;
cin>>c;
d1.editpatienthistory(c);
cout<<"name of doc"<<endl;
cout<<d1.getname()<<endl;
cout<<"age of doc"<<endl;
cout<<d1.getage()<<endl;
cout<<"patient's number"<<endl;
cout<<d1.getnumber_of_patient()<<endl;
cout<<"edit patient history"<<endl;
myfile<<"the update of doctor for the patient disease :"<<endl;
myfile<<d1.geteditpatienthistory()<<endl;
cout<<d1.geteditpatienthistory()<<endl;
cout<<"doctor reserve a room for patient who need extra care "<<endl;
d1.roomsvalidator ();
cout<< "     End of the doctor information     "<<endl;
ofstream myfile2;
myfile2.open ("patients_name.txt",ios ::app);
myfile2<<h1.getname()<<endl;
myfile2.close();
ofstream myfile3;
myfile3.open ("doctors_name.txt",ios ::app);
myfile3<<d1.getname()<<endl;
myfile3.close();
Hospital s1;
cout<<"hospital data"<<endl;
cout<<"the rooms number"<<endl;
cout<<s1.getroomsnumber()<<endl;
cout<<"the departments in the hospital"<<endl;
cout<<"the first department is \n"<<s1.getdepartment1()<<"\nthe secound department is \n"<<s1.getdepartment2()<<"\nthe third department is \n"<<s1.getdepartment3()<<"\nthe fourth department is \n"<<s1.getdepartment4()<<endl;
cout<<"the data for all patients and doctors names and rooms reserved"<<endl;
s1.getrepost();
	return 0;
}





#include <iostream>
using namespace std;
class patient{
	private:
		string name;
		int age;
		string history;
		public :
			patient();
			patient(string x,int y,string z);
			
			void setname(string x);
			string getname();
			void setage(int x);
			int getage();
         void sethistory(string x);
			string gethistory();
			
			
			
};






#include "patient.h"
using namespace std;
patient :: patient(){
name="unknown";
age=0;
history="no history";	
};
patient :: patient(string x,int y,string z){
name=x;
age=y;
history=z;	
};
void patient :: setname(string x){
	name=x;
}
void patient :: setage(int x){
	age=x;
}
void patient :: sethistory(string x){
	history=x;
}
string patient :: getname(){
	return name;
}
string patient :: gethistory(){
	return history;
}
int patient:: getage(){
	return age;
}






#include <iostream>
using namespace std;
class Doctor{
	private :
		string name;
		int age;
		string department;
		int number_of_patients;
		string patient_history;
		public :
			Doctor();
			Doctor(string x,int y,string z,int g);
			void setname(string x);
			string getname();
			void setage(int x);
			int getage();         
			void setdepart(string x);
			string getdepart();
         void setnumber_of_patient(int x); 
         int getnumber_of_patient();
         void editpatienthistory(string x);
         string geteditpatienthistory();
         void roomsvalidator ();
         
};



#include "doctor.h"
#include <sstream>
#include <string>
#include <iostream>
#include <fstream>
#include <cstdlib>
using namespace std;
Doctor :: Doctor(){};
Doctor ::Doctor(string x,int y,string z,int g){
	name=x;
	age=y;
	department=z;
	number_of_patients=g;
};
void Doctor :: setname(string x){
	name=x;
}
void Doctor :: setage(int x){
	age=x;
}void Doctor :: setdepart(string x){
	department=x;
}
void Doctor :: setnumber_of_patient(int x){
	number_of_patients=x;
}
string Doctor :: getname(){
	return name;
}
int Doctor :: getage(){
	return age;
}
string Doctor :: getdepart(){
	return department;
}
int Doctor :: getnumber_of_patient(){
	return number_of_patients;
}
void Doctor :: editpatienthistory(string x){
	patient_history=x;
}
string Doctor :: geteditpatienthistory(){
	return patient_history;
}
void Doctor ::roomsvalidator (){
string x;
string y;
   ofstream myfile3("rooms.txt",ios::app);
	ifstream myfile;
	myfile.open("count.txt");
if (myfile.is_open()){
while(getline (myfile,x)) 
{
 y=x;
}
myfile.close();
}
else
{
cout << "Unable to open file"; 
}
stringstream geek(y);
int count;
geek>>count;
	int z=count+1;
	ofstream myfile2;
	myfile2.open("count.txt");
	myfile2<<z<<endl;
	myfile2.close();
if(z<=10){
	cout<<"you can reserve the room ";
	cout<<z<<endl;
	myfile3<<"you can reserve the room"<<" "<<z<<endl;
}	
	else {
		cout<<"all rooms are busy"<<endl;
	}
}

   #include "hospital.h"
#include <string>
#include <iostream>
#include <fstream>
//#include <cstdlib>
#include <sstream>
Hospital :: Hospital(){
department1="Neurology";
department2="Oncology";
department3="Emergency department";
department4="Obstetrics";
rooms=10;
};
int Hospital :: getroomsnumber(){
	return rooms;
}
string Hospital ::getdepartment1(){
	return department1;
}
string Hospital ::getdepartment2(){
	return department2;
}
string Hospital ::getdepartment3(){
	return department3;
}
string Hospital ::getdepartment4(){
	return department4;
}
void Hospital ::getrepost(){
	string line;
	ifstream myfile("patients_name.txt");
	cout<<"all patients data"<<endl;
   if(myfile.is_open()){
	while(getline(myfile,line)){
	cout << line << '\n';
	}
   myfile.close();
	}
   else{
	cout << "Unable to open file";}
	string line2;
	ifstream myfile2("doctors_name.txt");
	cout<<"all doctors data"<<endl;
   if(myfile2.is_open()){
	while(getline(myfile2,line2)){
	cout << line2 << '\n';
	}
   myfile2.close();
	}
   else{
	 cout << "Unable to open file";
}
string line3;
	ifstream myfile3("rooms.txt");
	cout<<"all rooms data"<<endl;
   if(myfile3.is_open()){
	while(getline(myfile3,line3)){
	cout << line3 << '\n';
	}
   myfile3.close();
	}
   else{
	 cout << "Unable to open file";
}







}

#include <string>
#include <fstream>
using namespace std;
class Hospital {
private:
string department1;
string department2;
string department3;
string department4;
int rooms;
public:
	Hospital();
	string getdepartment1();
	string getdepartment2();
	string getdepartment3();
	string getdepartment4();
	int getroomsnumber();
	void getrepost();
};
